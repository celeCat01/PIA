"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[63563],{32346:(e,t,r)=>{r.d(t,{Z:()=>n});function n(e){return("undefined"==typeof window||!Object.prototype.hasOwnProperty.call(window,"requestAnimationFrame"))&&e&&e(),window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{e&&e()})})}},653286:(e,t,r)=>{r.d(t,{H:()=>s});var n=r(573810);let o="business.referral.referral_code",i="business.referral.offer_status",a="claimed",s={setData:({referralCode:e})=>{(0,n.Nh)(o,e)},getData:()=>(0,n.qn)(o),setSenderOfferClaimed:()=>{(0,n.Nh)(i,a)},resetStatus:()=>{(0,n.L_)(o)},shouldClaimReferral:()=>null!==(0,n.qn)(o)&&(0,n.qn)(i)!==a}},743079:(e,t,r)=>{r.d(t,{DW:()=>i,I:()=>o,oo:()=>n,zI:()=>a});let n=e=>{let t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t&&[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]},o=.18,i=(e,t,r)=>.2126*(e/255)**2.2+.7151*(t/255)**2.2+.0721*(r/255)**2.2,a=e=>{let t=e.replace("#",""),r=parseInt(t.substr(0,2),16);return(299*r+587*parseInt(t.substr(2,2),16)+114*parseInt(t.substr(4,2),16))/1e3<155}},847160:(e,t,r)=>{r.d(t,{Bx:()=>o,N4:()=>a,is:()=>s,lt:()=>n,oM:()=>i});let n=e=>e.bt("¡Falta poco! Inicia sesión para acceder a todo el contenido de Pinterest", "You're almost there! Log in to access all of Pinterest", "loginModal.limitedLogin.subheader", undefined, true),o=e=>e.bt("Inicia sesión para guardar este Pin", "Log in to save this Pin", "limitedLogin.modalHeader.repin", undefined, true),i=e=>e.bt("Inicia sesión para editar este Pin", "Log in to edit this Pin", "limitedLogin.modalHeader.editPin", undefined, true),a=({i18n:e,toFollow:t})=>t?e.bt("Inicia sesión para seguir a este usuario", "Log in to follow", "limitedLogin.modalHeader.follow", undefined, true):e.bt("Inicia sesión para dejar de seguir a este usuario", "Log in to unfollow", "limitedLogin.modalHeader.unfollow", undefined, true),s=e=>e.bt("Inicia sesión para crear un Pin o un tablero", "Log in to create a Pin or board", "limitedLogin.modalHeader.create", undefined, true)},515278:(e,t,r)=>{r.d(t,{Z:()=>a});var n=r(847160),o=r(140017),i=r(166770);let a=()=>{let{loginForMore:e,viewer:t,limitedLoginModalSubheader:r}=(0,i.H)(),a=(0,o.ZP)();return"AUTH"===t.type?null:t=>{e?.setVisible(!0),r?.setText(t?.loginModalHeader||n.lt(a))}}},150396:(e,t,r)=>{r.d(t,{Z:()=>h});var n=r(883119),o=r(401429),i=r(930837),a=r(256683),s=r(325362),l=r(862249),d=r(554786),u=r(983983),c=r(785893);let p=new n.Ry(u.fe),_=new n.H3([p]);function h({experience:e,placementId:t}){let r=(0,d.ml)();return(0,c.jsx)(o.Z,{eligibleTypes:[14],experience:e,placementId:t,children:({complete:e,dismiss:t,experience:{display_data:o}})=>{let{titleText:d,detailedText:u,completeButton:p,dismissButton:h}=(0,a.Z)(s.Z)(o),m=r?"center":"start",f=!!p&&(0,l.Z)({url:p.uri});return(0,c.jsx)(n.mh,{zIndex:_,children:(0,c.jsx)(i.ZP,{accessibilityModalLabel:d,footer:(0,c.jsxs)(n.xu,{dangerouslySetInlineStyle:{__style:{flexWrap:"wrap-reverse"}},display:"flex",justifyContent:r?"center":"end",children:[h&&(0,c.jsx)(n.xu,{fit:!0,flex:r?"grow":"none",minWidth:r?130:void 0,padding:1,children:(0,c.jsx)(n.zx,{color:"gray",fullWidth:r,onClick:t,size:"lg",text:h.text})}),p&&(0,c.jsx)(n.xu,{fit:!0,flex:r?"grow":"none",minWidth:r?130:void 0,padding:1,children:(0,c.jsx)(n.ZP,{color:"red",fullWidth:r,href:p.uri,onClick:()=>e(),rel:f?"nofollow":"none",size:"lg",text:p.text})})]}),heading:(0,c.jsx)(n.xu,{marginTop:r?2:0,children:(0,c.jsxs)(n.kC,{justifyContent:"between",children:[(0,c.jsx)(n.X6,{accessibilityLevel:1,size:"500",children:d}),!r&&(0,c.jsx)(n.hU,{accessibilityLabel:"Dismiss modal",bgColor:"white",icon:"cancel",iconColor:"darkGray",onClick:t,size:"sm"})]})}),onDismiss:t,size:"sm",children:(0,c.jsx)(n.xu,{padding:6,children:(0,c.jsx)(n.xv,{align:m,children:u})})})})}})}},200201:(e,t,r)=>{r.d(t,{_:()=>l,a:()=>d});var n=r(667294),o=r(545007),i=r(105737),a=r(25919),s=r(5859);let l=({extraContext:e,id:t,shouldUsePlacedExperience:r=!0})=>{let l=(0,n.useRef)(),d=(0,o.I0)(),{isBot:u}=(0,s.B)(),c=(0,o.v9)(e=>e.experiences[t]);return(0,n.useEffect)(()=>{d((0,a.kd)(t))},[d,c,t]),(0,n.useEffect)(()=>{r||(0,i.ZP)(l.current,e)||(d((0,a.pz)([t],u,e)),l.current=e)},[d,e,u,t,r]),c},d=e=>(l(e),(0,o.v9)(t=>t.experiencesMulti[e.id]))},588664:(e,t,r)=>{r.d(t,{Z:()=>n});function n(e,t,r=28){let o;if(!(e||{}).resurrection_info&&!(t||{}).resurrectionInfo)return!1;o=t?((t||{}).resurrectionInfo||{}).resurrectionDate:((e||{}).resurrection_info||{}).resurrection_dt;let i=new Date,a=o?new Date(o):i;return a.setDate(a.getDate()+r),new Date().getTime()<a.getTime()}},430891:(e,t,r)=>{r.d(t,{Z:()=>u});var n=r(667294),o=r(883119),i=r(876594),a=r(696534),s=r(30378),l=r(814754),d=r(785893);function u({children:e,footerConfig:t,headerConfig:r,height:u,hideOnScroll:c,hideOnScrollState:{isHidden:p,updateHiddenState:_},noPadding:h,paddingY:m=l.og,type:f,zIndex:g}){let y,b;let{headerLimitedOverflow:E,ignoreObstructions:x,zIndexForGestaltBug:S}=r||{},{appUpsellFooterConfig:v,footerInLego:w,navFooterConfig:I}=t||{},T=!!v,P="header"===f?"top":"bottom",A=(0,a.vs)(),O=(0,n.useRef)(null),R=(0,n.useRef)(null);(0,n.useEffect)(()=>{try{if(!x){let e=O.current;R.current=E&&e&&Array.isArray(e.children)?e.children[0]:e,R.current instanceof HTMLElement&&s.Z.addObstruction(P,R.current)}}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}return()=>{!x&&R.current instanceof HTMLElement&&s.Z.removeObstruction(P,R.current)}},[x,E,P,A]);let C="top"===P?"relative":"fixed",j=(u??l.R$)+(r?.overrideTop||0),D=c||I?{transition:w?"transform 300ms ease-in-out, opacity 300ms ease-in-out":"transform 200ms linear",...p?{transform:`translateY(${"top"===P?-j:j}px)`,opacity:w?0:1}:Object.freeze({})}:{},N="relative"!==C||r?.noGutter?0:2,Z=N?-N:0;A&&("header"===f?y=-1:b=-1);let H=r?.isTransparentBackground&&i.o7L||r?.isTranslucent&&(A?"rgba(0,0,0,.95)":"rgba(255,255,255,.95)")||i.k95;return(0,d.jsx)(o.xu,{ref:O,bottom:"footer"===f,dangerouslySetInlineStyle:{__style:{top:y,bottomStyle:b,...!g||S?{zIndex:S||1}:Object.freeze({}),...E?{background:"transparent",overflow:"hidden",paddingBottom:l.UB,marginBottom:-l.UB,pointerEvents:"none"}:Object.freeze({}),...r?.hasBorder?{borderBottom:l.dS}:Object.freeze({}),...t?.hasTopShadow?{boxShadow:"0 -2px 4px 1px rgba(0, 0, 0, 0.08)"}:Object.freeze({}),...D}},"data-test-id":f,display:T?"flex":void 0,height:u&&!w?u:void 0,left:!0,marginEnd:w?"auto":Z,marginStart:w?"auto":Z,onTransitionEnd:()=>{(c||I)&&R.current&&(p?s.Z.removeObstruction(P,R.current):s.Z.addObstruction(P,R.current))},position:C,right:!0,top:"header"===f,width:w||"fixed"!==C?void 0:"100%",zIndex:S?void 0:g,children:(0,d.jsx)(o.xu,{alignItems:t?.alignCenter?"center":void 0,dangerouslySetInlineStyle:{__style:{backgroundColor:H,height:w?T?void 0:u??l.R$:"100%",boxShadow:w?l.KJ:void 0,marginBottom:w&&!I?.docked?16:void 0,...E?{pointerEvents:"auto"}:Object.freeze({}),...r?.useRoundedCorners?{zIndex:5,borderTopRightRadius:17,borderTopLeftRadius:17,borderBottomRightRadius:0,borderBottomLeftRadius:0}:Object.freeze({})}},display:w||t?.alignCenter?"flex":void 0,marginEnd:w?"auto":void 0,marginStart:w?"auto":void 0,paddingX:("footer"!==f||h?0:4)+N,paddingY:h?0:m,position:"relative",rounding:w&&!I?.docked?"pill":void 0,width:I?I.footerWidth:T?void 0:"100%",children:"function"==typeof e?e({updateHiddenState:_}):e})})}},641710:(e,t,r)=>{r.r(t),r.d(t,{default:()=>l});var n=r(883119),o=r(814754),i=r(430891),a=r(631897),s=r(785893);function l({hasBorder:e,headerLimitedOverflow:t,ignoreObstructions:r,isTranslucent:l,isTransparentBackground:d,noGutter:u,overrideTop:c,useRoundedCorners:p,zIndexForGestaltBug:_,...h}){let{noPadding:m,paddingY:f=o.og,zIndex:g}=h;return(0,s.jsx)(n.Le,{height:t?o.LV+8*(m?0:f):void 0,top:c||0,zIndex:g||void 0,children:(0,s.jsx)(a.Z,{hideOnScroll:h.hideOnScroll,children:n=>(0,s.jsx)(i.Z,{...h,headerConfig:{isTranslucent:l,isTransparentBackground:d,headerLimitedOverflow:t,hasBorder:e,ignoreObstructions:r,noGutter:u,overrideTop:c,zIndexForGestaltBug:_,useRoundedCorners:p},hideOnScrollState:n,type:"header"})})})}},631897:(e,t,r)=>{r.d(t,{Z:()=>a});var n=r(667294),o=r(71328);function i(e,t,r){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class a extends n.Component{constructor(...e){super(...e),i(this,"state",{isHidden:!!this.props.appUpsellFooterConfig||!!this.props.navFooterConfig?.isDockedNavOnPlp}),i(this,"lastScrollPos",0),i(this,"updateHiddenState",e=>{this.reqAnimationId=window.requestAnimationFrame(()=>{this.setState({isHidden:e})})}),i(this,"handleScroll",(0,o.Z)(()=>{let{appUpsellFooterConfig:e,navFooterConfig:t}=this.props,{isHidden:r}=this.state,n=window.scrollY,o=n-this.lastScrollPos,i="none",{scrollHeight:a,clientHeight:s}=document.documentElement||{};Number.isNaN(a)||Number.isNaN(s)||(i=o<0?n<=Math.abs((window.scrollMinY||0)+Math.max(o,20))?"start":"none":n>=(window.scrollMaxY||a-s)-Math.max(o,20)?"end":"none");let l=t?.isModal?0:55;e?o>20&&r&&n>=500?e.shouldShowAfterScroll()&&(this.updateHiddenState(!1),t?.onScroll(!1)):(o<-20&&!r||n<=l)&&(this.updateHiddenState(!0),t?.onScroll(!0)):this.props.navFooterConfig?.isDockedNavOnPlp?"start"===i&&!r||n<=l?(this.updateHiddenState(!0),t?.onScroll(!0)):(n>l||"end"===i)&&r&&(this.updateHiddenState(!1),t?.onScroll(!1)):(o<-20||"start"===i)&&r||n<=l?(this.updateHiddenState(!1),t?.onScroll(!1)):(o>20||"end"===i)&&!r&&(this.updateHiddenState(!0),t?.onScroll(!0)),this.lastScrollPos=n},30))}componentDidMount(){try{(this.props.hideOnScroll||this.props.navFooterConfig?.isDockedNavOnPlp)&&window.addEventListener("scroll",this.handleScroll)}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}}componentWillUnmount(){(this.props.hideOnScroll||this.props.navFooterConfig?.isDockedNavOnPlp)&&window.removeEventListener("scroll",this.handleScroll),this.reqAnimationId&&(window.cancelAnimationFrame(this.reqAnimationId),this.reqAnimationId=null)}componentDidUpdate(e){!e.hideOnScroll&&this.props.hideOnScroll||!e.navFooterConfig?.isDockedNavOnPlp&&this.props.navFooterConfig?.isDockedNavOnPlp?(this.updateHiddenState(!0),window.addEventListener("scroll",this.handleScroll)):(e.hideOnScroll&&!this.props.hideOnScroll||e.navFooterConfig?.isDockedNavOnPlp&&!this.props.navFooterConfig?.isDockedNavOnPlp)&&(this.updateHiddenState(!1),window.removeEventListener("scroll",this.handleScroll))}render(){let{children:e,navFooterConfig:t}=this.props,{isHidden:r}=this.state;return e({isHidden:!t?.forceShow&&r,updateHiddenState:this.updateHiddenState})}}},814754:(e,t,r)=>{r.d(t,{KJ:()=>s,LV:()=>a,R$:()=>n,UB:()=>i,dS:()=>l,og:()=>o});let n=64,o=3,i=100,a=44,s="0px 0px 8px rgba(0, 0, 0, 0.1)",l="1px solid #efefef"},891162:(e,t,r)=>{r.d(t,{Q6:()=>c,ZP:()=>l,le:()=>p,qe:()=>d,yU:()=>u});var n=r(105737),o=r(520893);let i=(e,t)=>e.length===t.length&&e.every((e,r)=>e===t[r]),a=e=>e;function s(e,t=i,r=a){return function(n){let o=[];return function(...i){let a=o.find(e=>t(e.args,r(i)));if(a)return a.result;let s=n(...i);return o.push({args:r(i),result:s}),e&&o.length>e&&o.shift(),s}}}let l=s(),d=s(1),u=s(void 0,i,e=>[JSON.stringify(e)]),c=s(0,(e,t)=>e.length===t.length&&e.every((e,r)=>(0,o.Z)(e,t[r]))),p=s(0,(e,t)=>e.length===t.length&&e.every((e,r)=>(0,n.ZP)(e,t[r])))},705895:(e,t,r)=>{function n(e,t,r){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{Z:()=>a});let o=new class{constructor(){n(this,"onResumeListeners",[]),n(this,"onPauseListeners",[]),n(this,"inExp",!1),n(this,"windowInFocus",!0)}setExperiment(e=!1){this.inExp=e}onSessionResume(e){return this.onResumeListeners.push(e),this}onSessionPause(e){return this.onPauseListeners.push(e),this}removeResumeListener(e){this.onResumeListeners.filter(t=>t!==e)}removePauseListener(e){this.onPauseListeners=this.onPauseListeners.filter(t=>t!==e)}getAppState(){return this.windowInFocus?0:void 0}},i=e=>{if(e.isHidden){let{reason:t}=e;o.windowInFocus=!1,o.onPauseListeners.forEach(e=>e(t))}else o.windowInFocus=!0,o.onResumeListeners.forEach(e=>e())};setTimeout(()=>{window.addEventListener("beforeunload",()=>i({isHidden:!0,reason:"beforeunload"})),window.addEventListener("focus",()=>i({isHidden:!1})),window.addEventListener("blur",()=>i({isHidden:!0,reason:"blur"})),window.addEventListener("pageshow",()=>i({isHidden:!1})),window.addEventListener("pagehide",()=>i({isHidden:!0,reason:"pagehide"})),void 0!==document.hidden?document.addEventListener("visibilitychange",()=>i(document.hidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1}),!1):void 0!==document.webkitHidden&&document.addEventListener("webkitvisibilitychange",()=>i(document.webkitHidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1}),!1)},0);let a=o},11453:(e,t,r)=>{r.d(t,{JZ:()=>p,Qs:()=>c,jr:()=>_});var n=r(224796),o=r(86785),i=r(340523),a=r(5859),s=r(731714),l=r(554786);let d={auth_dweb_google_fedcm_onetap_modal:122,auth_mweb_google_fedcm_onetap_modal:122,dweb_unauth_google_fedcm_button_flow_eap:130,mweb_unauth_google_fedcm_button_flow_eap:130},u=(e,t,r,n)=>e?r>=(n?d.auth_dweb_google_fedcm_onetap_modal:d.dweb_unauth_google_fedcm_button_flow_eap)&&(n?t("auth_dweb_google_fedcm_onetap_modal").anyEnabled:t("dweb_unauth_google_fedcm_button_flow_eap").anyEnabled):r>=(n?d.auth_mweb_google_fedcm_onetap_modal:d.mweb_unauth_google_fedcm_button_flow_eap)&&(n?t("auth_mweb_google_fedcm_onetap_modal").anyEnabled:t("mweb_unauth_google_fedcm_button_flow_eap").anyEnabled),c=e=>e.isAuth&&e.socialNetwork&&e.socialNetwork.gplus&&e.socialNetwork.gplus.connected&&!s.ZP.getItem(n.tr),p=(e,t,r,n)=>{let i=r.browserVersion?parseInt(r.browserVersion.split(".")[0],10):0;return(0,o.i7)(r.browserName??"")&&(e&&u(e,t,i,n)||!e&&"android"===r.platform&&u(e,t,i,n))},_=e=>{let t=(0,l.HG)(),{checkExperiment:r}=(0,i.F)(),{userAgent:n}=(0,a.B)();return c(e)&&p(t,r,n,e.isAuth)}},251843:(e,t,r)=>{r.d(t,{Z:()=>i});var n=r(883119),o=r(785893);function i({accessibilityLabel:e}){return(0,o.jsx)(n.kC,{alignItems:"center",justifyContent:"center",children:(0,o.jsx)(n.$j,{accessibilityLabel:e,show:!0})})}},447479:(e,t,r)=>{r.d(t,{i:()=>n});let n={AC:"ac",AUTOCOMPLETE:"autocomplete",BOARD:"blp",CONTENT_TYPE_FILTER:"content_type_filter",DIRECT_NAVIGATION:"direct_navigation",FILTER:"filter",GUIDED_SEARCH_ENTRY:"guided_search_entry",GUIDED_SEARCH_LANDING:"guided_search_landing",HASHTAG_CLOSEUP:"hashtag_closeup",HASHTAG_PINREP:"hashtag_pinrep",HOMEFEED_BUBBLE:"homefeed_bubble",HUB_PAGE:"hub_page",IDEAS_ROOT:"ideas_root",IMAGE_ONLY_ATTRIBUTION:"image_only_attribution",LANDING_PAGE_STORY:"landing_page_story",NO_RESULTS_SEARCH_STORY:"no_results_search_story",PRODUCT:"product",REMOVE:"remove",RS:"rs",SHOPPING_FILTER:"shopping_filter",SITELINKS_SEARCHBOX:"sitelinks_searchbox",SLP_REC_CURATED:"slp_rec_curated",SLP_REC_TRENDING:"slp_rec_trending",SRS:"srs",STRUCTURED_GUIDE:"structured_guide",TRENDING:"trending",TYPED:"typed",TYPO_AUTO_ORIGINAL:"typo_auto_original",TYPO_SUGGESTION:"typo_suggestion",UNKNOWN:"Unknown",VANILLA_GUIDE:"guide",URECS:"urecs",VIDEO:"video"}},460270:(e,t,r)=>{r.d(t,{Z:()=>n});let n=e=>e?"string"==typeof e?e:e.pathname?e.pathname:"":""},477458:(e,t,r)=>{r.d(t,{Z:()=>a,q:()=>i});var n=r(667294);let o=()=>{let[e,t]=(0,n.useState)(!1),[r,o]=(0,n.useState)(!1),[i,a]=(0,n.useState)(!1);return{active:e,focused:r,hovered:i,onBlur:()=>{o(!1),t(!1)},onFocus:()=>o(!0),onMouseDown:()=>t(!0),onMouseEnter:()=>a(!0),onMouseLeave:()=>{a(!1),t(!1)},onMouseUp:()=>t(!1)}};function i({children:e}){return e(o())}let a=o},239821:(e,t,r)=>{r.d(t,{g:()=>p,I:()=>c});var n=r(667294),o=r(342513),i=r(705895),a=r(259866);let s={appInFocus:!0,footerPlusButtonVisible:!0,isAutoplay:!1,showTypeaheadOverlay:!1,videosAutoplaying:{currentlyPlayingOrganicVideoId:null,organicVideosAutoplaying:{},promotedVideosAutoplaying:{}},viewportSize:"lg"},l=(e=s,t)=>{if("TOGGLE_TYPEAHEAD_OVERLAY"===t.type&&e.showTypeaheadOverlay!==t.payload)return{...e,showTypeaheadOverlay:t.payload};if("SET_CURRENT_VIDEO"===t.type){let{payload:r}=t,{pinId:n,isPromoted:o,currentTime:i}=r,{videosAutoplaying:s}=e,{currentlyPlayingOrganicVideoId:l,promotedVideosAutoplaying:d,organicVideosAutoplaying:u}=s,c=(0,a.Z)(d),p=(0,a.Z)(u);return!o&&l?e:(o?c[n]={pinId:n,currentTime:i,paused:!1}:p[n]={pinId:n,currentTime:i,paused:!1},{...e,videosAutoplaying:{currentlyPlayingOrganicVideoId:o?l:n,promotedVideosAutoplaying:c,organicVideosAutoplaying:p}})}if("SET_IS_AUTOPLAY"===t.type&&e.isAutoplay!==t.payload)return{...e,isAutoplay:t.payload};if("PAUSE_CURRENT_VIDEO"===t.type){let{payload:r}=t,{pinId:n,isPromoted:o,currentTime:i}=r,{videosAutoplaying:s}=e,{promotedVideosAutoplaying:l,organicVideosAutoplaying:d}=s,u=(0,a.Z)(l),c=(0,a.Z)(d);return o?u[n]={...u[n],paused:!0,currentTime:i}:c[n]={...c[n],paused:!0,currentTime:i},{...e,videosAutoplaying:{currentlyPlayingOrganicVideoId:null,promotedVideosAutoplaying:u,organicVideosAutoplaying:c}}}if("SET_APP_FOCUS_STATE"===t.type&&e.appInFocus!==t.payload)return{...e,appInFocus:t.payload};if("SET_VIEWPORT_SIZE"===t.type&&e.viewportSize!==t.payload)return{...e,viewportSize:t.payload};if("SET_FOOTER_VISIBILITY_STATE"===t.type&&e.footerPlusButtonVisible!==t.payload)return{...e,footerPlusButtonVisible:t.payload};return e};var d=r(785893);let{Provider:u,useHook:c}=(0,o.Z)("AppUI");function p({children:e}){let[t,r]=(0,n.useReducer)(l,s),o=(0,n.useCallback)(e=>r({type:"PAUSE_CURRENT_VIDEO",payload:e}),[]),a=(0,n.useCallback)(e=>r({type:"SET_APP_FOCUS_STATE",payload:e}),[]),c=(0,n.useCallback)(e=>r({type:"SET_CURRENT_VIDEO",payload:e}),[]),p=(0,n.useCallback)(e=>r({type:"SET_FOOTER_VISIBILITY_STATE",payload:e}),[]),_=(0,n.useCallback)(e=>r({type:"SET_IS_AUTOPLAY",payload:e}),[]),h=(0,n.useCallback)(e=>r({type:"SET_VIEWPORT_SIZE",payload:e}),[]),m=(0,n.useCallback)(e=>r({type:"TOGGLE_TYPEAHEAD_OVERLAY",payload:e}),[]),f=(0,n.useMemo)(()=>({pauseAutoplay:o,setCurrentVideo:c,setFooterPlusButtonVisible:p,setIsAutoplay:_,setViewportSize:h,toggleTypeaheadOverlay:m,setAppFocusState:a,appUI:t}),[o,c,p,_,h,m,a,t]);return(0,n.useEffect)(()=>{i.Z.onSessionResume(()=>{a(!0)}).onSessionPause(()=>{a(!1)})},[a]),(0,d.jsx)(u,{value:f,children:e})}},762631:(e,t,r)=>{r.d(t,{Z:()=>n});function n({top:e,right:t,bottom:r,left:n,windowHeight:o,windowWidth:i,threshold:a=0}){return e>=0+a&&n>=0+a&&r<=o-a&&t<=i-a}},180338:(e,t,r)=>{r.d(t,{H:()=>n,W:()=>o});let{Provider:n,useMaybeHook:o}=(0,r(342513).Z)("PinCreateDeleteContext")},563322:(e,t,r)=>{r.d(t,{ET:()=>s,UQ:()=>l,dv:()=>d,xZ:()=>c,yh:()=>p});var n,o=r(667294),i=r(342513),a=r(785893);let s={NONE:"NONE",GROUP:"GROUP",SECRET:"SECRET",ARCHIVED:"ARCHIVED"},l={NONE:0,ARCHIVED:1,GROUP:2,SECRET:3},d=((n={}).COLORS="COLORS",n.CREATED_BY_ME="CREATED_BY_ME",n.FAVORITED="FAVORITED",n.FAVORITED_AND_CREATED="FAVORITED_AND_CREATED_BY_ME",n.INTERESTS="INTERESTS",n.NONE="",n),{Provider:u,useMaybeHook:c}=(0,i.Z)("ProfileViewContext");function p({children:e}){let[t,r]=(0,o.useState)(),[n,i]=(0,o.useState)(new Map),[s,l]=(0,o.useState)(),[c,p]=(0,o.useState)(),[_,h]=(0,o.useState)(d.NONE),[m,f]=(0,o.useState)(0),[g,y]=(0,o.useState)(),b=(0,o.useCallback)((e,t)=>{i(new Map(n.set(e,t)))},[n]),E=(0,o.useMemo)(()=>({boardPinDensity:t,boardSortOrder:n,profileBoardView:s,profilePinDensity:c,profileFollowingSelectedIndex:m,selfProfilePinFilter:_,setBoardPinDensity:r,setSelfProfilePinFilter:h,updateBoardSortOrder:b,selfProfileBoardFilter:g,setSelfProfileBoardFilter:y,setProfileBoardView:l,setProfilePinDensity:p,setProfileFollowingSelectedIndex:f}),[t,n,s,c,m,_,g,b]);return(0,a.jsx)(u,{value:E,children:e})}},801690:(e,t,r)=>{r.d(t,{Z:()=>d});var n=r(667294),o=r(525364),i=r(105737),a=r(766311),s=r(785893);class l extends n.Component{componentDidMount(){let{setCurrentPageData:e,viewData:t,viewParameter:r,viewType:n}=this.props;e({viewData:t,viewParameter:r,viewType:n})}componentDidUpdate(e){let{setCurrentPageData:t,viewData:r,viewParameter:n,viewType:o}=this.props;n===e.viewParameter&&o===e.viewType&&(0,i.ZP)(r,e.viewData)||t({viewData:r,viewParameter:n,viewType:o})}componentWillUnmount(){this.props.clearCurrentPageData()}render(){let{auxData:e,children:t,component:r,objectIdStr:n,viewData:o,viewParameter:i,viewType:l,clientTrackingParams:d}=this.props;return(0,s.jsx)(a.Z,{auxData:e,clientTrackingParams:d,component:r,objectIdStr:n,viewData:o,viewParameter:i,viewType:l,children:t})}}function d(e){let{setViewContextData:t,clearViewContextData:r}=(0,o.sV)();return(0,s.jsx)(l,{...e,clearCurrentPageData:r,setCurrentPageData:t})}},766311:(e,t,r)=>{r.d(t,{Z:()=>l});var n=r(667294),o=r(587703),i=r(217058);let a=e=>Object.keys(e).reduce((t,r)=>(void 0===e[r]&&delete t[r],t),{...e}),s=({viewType:e,viewParameter:t,viewData:r,auxData:n,objectIdStr:o,component:s,clientTrackingParams:l,element:d},u)=>{let c=a({event_type:13,view_type:e,view_parameter:t,view_data:r,aux_data:n,object_id_str:o,component:s,clientTrackingParams:l,element:d});-1===Object.keys(c).indexOf("view_type")&&(0,i.My)("mweb.logging.null_view_type"),u(c)};function l(e){let{auxData:t,clientTrackingParams:r,children:i,component:a,element:l,objectIdStr:d,viewData:u,viewParameter:c,viewType:p}=e,_=(0,o.Z)(),h=JSON.stringify(t),m=JSON.stringify(u);return(0,n.useEffect)(()=>{s(e,_)},[_,h,r,a,l,d,m,c,p]),n.Children.only(i)}},923368:(e,t,r)=>{r.d(t,{Nb:()=>s,Of:()=>l,YO:()=>a,ZP:()=>c,x4:()=>u});var n=r(667294),o=r(891162),i=r(392029);let a=({showProductDetailPage:e,isLargerPane:t,showCloseupContentRight:r})=>e&&t?r?i.Uj:i.zT:1,s=(0,o.qe)(({paneWidth:e,pdpCarouselSlotToPaneRatio:t,showCloseupContentRight:r,showProductDetailPage:n,viewportSize:o,maxWidth:i,descriptionPaneWidth:a,inCommentFooterRedesignExp:s,isCloseupRelatedPinsAboveTheFoldEnabled:l,isCommentAttachmentSelectorOpen:d,isCommentThreadExpanded:u,isMediaViewerOpen:c,isPinNoteExpanded:p,isProductDetailsExpanded:_,isShoppingModuleExpanded:h,setIsCommentAttachmentSelectorOpen:m,setIsCommentThreadExpanded:f,setIsMediaViewerOpen:g,setIsPinNoteExpanded:y,setIsProductDetailsExpanded:b,setIsShoppingModuleExpanded:E,closeupWithinMasonryEnabled:x,peekCloseupEnabled:S,isInRemoveMagnifyingGlassVariant:v,setAbortNoActionPlacementTimeout:w,clientTrackingParams:I,isCloseupMediaViewerOpen:T,setIsCloseupMediaViewerOpen:P})=>({paneWidth:e,pdpCarouselSlotToPaneRatio:t,showCloseupContentRight:r,showProductDetailPage:n,viewportSize:o,maxWidth:i,descriptionPaneWidth:a,isCommentAttachmentSelectorOpen:d,inCommentFooterRedesignExp:s,isCloseupRelatedPinsAboveTheFoldEnabled:l,isCommentThreadExpanded:u,isCloseupMediaViewerOpen:T,isMediaViewerOpen:c,isPinNoteExpanded:p,isProductDetailsExpanded:_,isShoppingModuleExpanded:h,setIsCommentAttachmentSelectorOpen:m,setIsCommentThreadExpanded:f,setIsCloseupMediaViewerOpen:P,setIsMediaViewerOpen:g,setIsPinNoteExpanded:y,setIsProductDetailsExpanded:b,setIsShoppingModuleExpanded:E,closeupWithinMasonryEnabled:x,peekCloseupEnabled:S,isInRemoveMagnifyingGlassVariant:v,setAbortNoActionPlacementTimeout:w,clientTrackingParams:I})),l={showCloseupContentRight:!0,showProductDetailPage:!1,viewportSize:"lg",paneWidth:i.Gg,pdpCarouselSlotToPaneRatio:1,maxWidth:i.u6,descriptionPaneWidth:i.u6-i.Gg,inCommentFooterRedesignExp:!1,isCloseupRelatedPinsAboveTheFoldEnabled:!1,isCommentAttachmentSelectorOpen:!1,isCommentThreadExpanded:!1,isCloseupMediaViewerOpen:!1,isMediaViewerOpen:!1,isPinNoteExpanded:!1,isShoppingModuleExpanded:!1,closeupWithinMasonryEnabled:!1,peekCloseupEnabled:!1,isInRemoveMagnifyingGlassVariant:!1,setAbortNoActionPlacementTimeout:()=>{},setIsCloseupMediaViewerOpen:()=>{},setIsCommentAttachmentSelectorOpen:()=>{},setIsMediaViewerOpen:()=>{},setIsShoppingModuleExpanded:()=>{}},d=(0,n.createContext)(l);function u(){let e=(0,n.useContext)(d);if(!e)throw Error("useCloseupContext must be used within CloseupContextProvider");return e}let c=d},392029:(e,t,r)=>{r.d(t,{$T:()=>y,CI:()=>a,Ch:()=>l,ER:()=>g,Gb:()=>d,Gg:()=>o,Hf:()=>x,Ie:()=>_,KP:()=>h,Kn:()=>s,O5:()=>b,Uj:()=>u,bx:()=>m,d2:()=>p,g9:()=>f,iB:()=>S,rv:()=>E,u6:()=>i,zT:()=>c});var n=r(883119);let o=508,i=1016,a=488,s=992,l=672,d=1176,u=.6,c=.84,p=40,_=72,h=740,m=912,f=32,g=16,y=24,b=2,E=1,x=new n.Ry(5),S={ARTICLE:"https://schema.org/Article",BRAND:"https://schema.org/Brand",PRODUCT:"https://schema.org/Product",RECIPE:"https://schema.org/Recipe",OFFER:"https://schema.org/Offer",OUT_OF_STOCK:"https://schema.org/OutOfStock",PERSON:"https://schema.org/Person"}},844998:(e,t,r)=>{r.d(t,{E:()=>a,S:()=>s});var n=r(667294),o=r(191313);let i="_loggingInNotHome",a=e=>{e?(0,o.Nh)(i,1):(0,o.L_)(i)},s=()=>{let[e,t]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{t(!0)},[]),e&&(0,o.qn)(i)}},58939:(e,t,r)=>{var n;r.d(t,{b:()=>o});let o=((n={})[n.False=0]="False",n[n.True=1]="True",n)},198013:(e,t,r)=>{r.d(t,{Z:()=>eV});var n=r(667294),o=r(545007),i=r(616550),a=r(883119),s=r(216167),l=r(224796),d=r(324358),u=r(653286),c=r(510989),p=r(401429),_=r(150396),h=r(74916),m=r(73006),f=r(718463),g=r(810961),y=r(82531),b=r(200201),E=r(454514),x=r(140017),S=r(422210),v=r(641710),w=r(179425),I=r(11453),T=r(340523),P=r(297329),A=r(689450),O=r(438555),R=r(5859),C=r(230077),j=r(826267),D=r(757640),N=r(608516),Z=r(251843),H=r(731714),L=r(573810),U=r(627408),F=r(217058),k=r(13848),M=r(624797),z=r(554786),B=r(149722),V=r(801690),G=r(237040),W=r(220573),Y=r(254292),q=r(982388),K=r(207229),$=r(587703),J=r(920434),X=r(71328),Q=r(762631),ee=r(969300),et=r(785893);let er={__style:{textOverflow:"ellipsis",whiteSpace:"nowrap"}},en={HOME:1,BOARD:2,USE_CASE:3};function eo({currentTabIndex:e,tabBoards:t,useCaseTabs:r}){let s=(0,n.useRef)(null),l=(0,n.useRef)(!1),{width:d,height:u}=(0,K.Z)()||{width:0,height:0},c=(0,n.useRef)([]),p=(0,i.k6)(),_=(0,x.ZP)(),h=(0,B.Z)(),{checkExperiment:m}=(0,T.F)(),f=m("m10n_measurement_pinterest_tag_us").anyEnabled,g=(0,$.Z)(),y=(0,o.I0)(),b=(e,t)=>y((0,ee.r)(e,t)),E="nux_revamp_create_board"===m("ap_bmi_activation_nux_revamp_mweb_v2",{dangerouslySkipActivation:!0}).group,S=t.length+r.length;c.current.length!==S&&(c.current=Array(S).fill(null).map((e,t)=>c.current[t]||(0,n.createRef)()));let v=t.length||r.length?[{href:"/",text:(0,et.jsx)(a.xu,{children:_.bt("Todas", "All", "homefeed.moreIdeasTab.homefeedTab", undefined, true)}),tabType:en.HOME},...t.filter(e=>e).map(({id:e,name:t},n)=>({href:`/?boardId=${String(e)}`,text:r.length||E?(0,et.jsx)(a.xu,{overflow:"hidden",children:t}):(0,et.jsx)(a.xu,{dangerouslySetInlineStyle:er,maxWidth:100,overflow:"hidden",children:t}),boardId:e,tabType:en.BOARD,ref:c.current[n]})),...r.filter(e=>e).map(({id:e,display_name:r},n)=>({href:`/?useCaseId=${String(e)}`,text:(0,et.jsx)(a.xu,{overflow:"hidden",children:r}),boardId:e,tabType:en.USE_CASE,ref:c.current[t.length+n]}))]:null,w=e=>e===en.HOME?11081:11082,I=(0,n.useRef)([]),P=(0,n.useCallback)(()=>{c&&c.current.length&&c.current.forEach((e,n)=>{if(e?.current){let o=!!t[n],{id:i}=o?t[n]||{}:r[n-t.length]||{},a=o?t[n]?.name||{}:r[n-t.length]?.display_name||{},s=e.current.getBoundingClientRect();(0,Q.Z)({left:s.left,right:s.right,top:s.top,bottom:s.bottom,windowHeight:u,windowWidth:d})&&i&&!I.current.includes(i)&&(g({event_type:13,view_type:1,view_parameter:92,component:13184,element:o?w(en.BOARD):15945,object_id_str:i,aux_data:o?{board_id:i,tab_title:a,referrer:19}:{use_case_id:i,tab_title:a,index:n}}),I.current.push(i))}})},[c,g,t,r,u,d]),A=(0,J.Z)(()=>{g({event_type:110,view_type:1,view_parameter:92,component:13184,element:15945})},1e3),O=(0,X.Z)(()=>{P(),r.length&&A()},50);(0,n.useEffect)(()=>{P();let e=s.current;return e&&e.addEventListener("scroll",O),()=>{e?.removeEventListener("scroll",O)}},[P,O]),(0,n.useEffect)(()=>(h.isAuth&&f&&window.pintrk&&window.pintrk("track","pagevisit",{lead_type:"Pinterest mobile homefeed",em:h.email}),()=>{l.current&&(window.cancelAnimationFrame(l.current),l.current=null)}));let R=e=>{let t=v?.[e];if(t){let r=t.tabType===en.USE_CASE,o=r&&(0,n.isValidElement)(t.text)?t.text.props.children:null;b(t.boardId,e),g({event_type:101,view_type:1,view_parameter:92,component:13184,element:r?15945:w(t.tabType),aux_data:r?{use_case_id:t.boardId,tab_title:o,index:e}:{index:e.toString(),board_id:t.boardId,referrer:19},object_id_str:t.boardId})}},C=e=>v?{pathname:(v[e]||v[0]).href,state:(v[e]||v[0]).locationState||void 0}:{};if(!v)return null;let j=v.map(e=>({href:e.href,text:e.text,ref:e.ref}));return(0,et.jsx)(a.xu,{ref:s,"data-test-id":"more-ideas-tabs",fit:!0,marginBottom:1,marginTop:1,overflow:"scrollX",children:(0,et.jsx)(a.mQ,{activeTabIndex:e,onChange:({activeTabIndex:e})=>{R(e);let{pathname:t,state:r}=C(e);p.push(t,r)},tabs:j})})}var ei=r(464421),ea=r(844998),es=r(494125),el=r(58939);function ed(){let[e,t]=(0,n.useState)(""),[r,o]=(0,n.useState)(""),i=(0,$.Z)(),s=(0,x.ZP)(),l=s.bt("¡Te damos la bienvenida a tu feed de inicio!", "Welcome to your home feed!", "new.user.welcome.header", undefined, true),d=s.bt("Explora ideas elegidas solo para ti", "Explore ideas picked just for you", "new.user.welcome.subheader", undefined, true);(0,es.Z)(()=>{i({event_type:13,view_type:1,view_parameter:92,component:15204})});let u=(0,D.Z)({name:"UserStateResource",options:{state:"NUX_SKIPPED"}}).data;return(0,n.useEffect)(()=>{void 0!==u&&(t(l),o(u===el.b.True?"":d))},[u]),(0,et.jsxs)(a.xu,{margin:2,marginBottom:4,marginTop:4,paddingX:2,children:[(0,et.jsx)(a.xu,{marginBottom:1,children:(0,et.jsx)(a.X6,{size:"400",children:e})}),(0,et.jsx)(a.xv,{size:"300",children:r})]})}var eu=r(260218),ec=r(26353),ep=r(170568),e_=r(19447),eh=r(137842),em=r(953565),ef=r(728294);function eg(e,t,r){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let ey=(0,ef.Z)(()=>r.e(30157).then(r.bind(r,114800)),void 0,"app-www-pages-duplo-CoreActionsHeader"),eb=(0,ef.Z)(()=>r.e(63956).then(r.bind(r,953879)),void 0,"app-www-stories-FullWidthPinStory"),eE=(0,ef.Z)(()=>r.e(26451).then(r.bind(r,770356)),void 0,"app-www-Homefeed-HomefeedMoreIdeasTabContent"),ex=(0,ef.Z)(()=>r.e(77591).then(r.bind(r,679967)),void 0,"app-www-Homefeed-HomefeedUseCaseTabContent"),eS=(0,ef.Z)(()=>r.e(44985).then(r.bind(r,575800)),void 0,"app-www-stories-LandingPageStory-LandingPageStory"),ev=(0,n.lazy)(()=>r.e(94189).then(r.bind(r,94189))),ew=(0,n.lazy)(()=>Promise.all([r.e(47639),r.e(24698)]).then(r.bind(r,647639))),eI=(0,n.lazy)(()=>r.e(13236).then(r.bind(r,413236))),eT=(0,n.lazy)(()=>r.e(94629).then(r.bind(r,994629))),eP=(0,n.lazy)(()=>r.e(92524).then(r.bind(r,423113))),eA=(0,n.lazy)(()=>r.e(90813).then(r.bind(r,990813))),eO={feedKey:ec.xJ,trafficSource:ec.WV,resourceName:ec.om,feedItemProps:e=>({viewParameter:92,viewType:1,onFeedItemClick:()=>{e.onFeedItemClick&&e.onFeedItemClick()}}),pullToRefresh:!0},eR=()=>({includeBackgroundImages:!0,includeVideos:!0,pins:Object.values((0,e_.AF)())}),eC=()=>{let e=(0,o.I0)(),t=(0,o.v9)(({feeds:e})=>e[ec.xJ]),r=(0,o.v9)(({session:e})=>e.firstHomeFeedRequestAfterNux);(0,n.useEffect)(()=>{t&&t.length>0&&r&&e((0,ep.H5)(!1))},[e,t,r])},ej=()=>{let{isGraphQLEnabledInGeneral:e}=(0,G.nF)(),{locale:t}=(0,R.B)(),r=(0,e_.AF)();return({feedItems:n,prevFeedItems:o,finishedRefresh:i,unauthLandingPinStateForAuthHomefeed:{pinId:a,feedItem:s}})=>{if(!n.length)return null;if(i&&o.length>0){let e=(e,t)=>e.slice(0,t).map(e=>e.id),r=e(o,5),i=e(n,5),a={appType:"mweb",language:t&&t.slice(0,2)||"unknown",locale:t||"unknown"};(0,em.nP)("home_product.homefeed.refresh",{sampleRate:1,tags:a}),JSON.stringify(r)===JSON.stringify(i)&&(0,em.nP)("home_product.homefeed.refresh.no_change",{sampleRate:1,tags:a})}if(a&&!e){if(o.length>0&&o[0]!==n[0])return(0,H.M0)().removeItem(l.uc),{feedItem:null,pinId:null};if((0===o.length||o[0]===n[0]&&o.length!==n.length||!s)&&r[a]&&!n.slice(0,5).some(({id:e})=>e===a))return{feedItem:{id:a,type:"pin",trackingParams:n[0].trackingParams},pinId:a}}return null}},eD={first_page_size:"25",page_size:"10"},eN=({homefeedResourceRef:e,webMobileHomeFeedTakoverExperience:t})=>{let{feedKey:r,feedItemProps:n,pullToRefresh:s}=eO,l=(0,i.TH)(),d=(0,i.k6)(),u=(0,i.$B)(),c=(0,o.v9)(({session:e})=>e.firstHomeFeedRequestAfterNux),p=(0,eu.Z)(),{checkExperiment:_}=(0,T.F)(),h={webMobileHomeFeedTakoverExperience:t,location:l,history:d,match:u},m=(0,o.v9)(({feeds:e})=>e[r]??[]),f=!c,g={...ec.HH,...f?{...eD}:{in_nux:c},in_local_navigation:_("hfp_nav_tabs_unity_mweb").anyEnabled},y=(0,D.Z)(p?null:{name:ec.om,options:g}),{data:b,isAtEnd:E}=(0,C.Z)(e),x=p?b:y.data,S=p?E:y.isAtEnd,v=!p&&y.isFetching,w=p?e.fetchMore:y.fetchMore,I=p?e.refresh:y.refresh,P=eR();c&&(0,em.nP)("home_product.homefeed.has_in_nux_flag",{sampleRate:.1,tags:{appType:"mweb"}}),eC();let A=ej(),O=x?.length?x[0]:null;if(t&&t.display_data?.in_checklist_education&&t.display_data?.num_columns_requested===2){let e={type:"fullWidthBreakIn",value:{index:0,content:O?.id&&(0,et.jsx)(eh.Z,{storyId:O.id,children:e=>(0,et.jsx)(eb,{slotIndex:0,storyData:e,viewParameter:3833,viewType:604})})}},t=m.slice(1);return(0,et.jsx)(a.xu,{"data-test-id":"homefeed",children:(0,et.jsx)(W.Zt,{authHomefeedComponentDidUpdate:A,feedItemProps:n&&n(h),feedItems:t,feedItemsAdjustment:e,feedKey:r,pagination:{hasNext:!S,isLoadingNext:v,loadNext:()=>w(),refetch:()=>I()},pullToRefresh:s,trafficSource:ec.WV,visuallyCompleteProfilerOptions:P})})}return p?f&&!t?.display_data?(0,et.jsx)(a.xu,{"data-test-id":"homefeed-ssr",children:(0,et.jsx)(W.o3,{authHomefeedComponentDidUpdate:A,feedItemProps:n&&n(h),feedKey:ec.xJ,pullToRefresh:s,resourceRef:e,serverRender:!0,trafficSource:ec.WV,visuallyCompleteProfilerOptions:P})}):(0,et.jsx)(a.xu,{"data-test-id":"homefeed",children:(0,et.jsx)(W.o3,{authHomefeedComponentDidUpdate:A,feedItemProps:n&&n(h),feedKey:r,pullToRefresh:s,resourceRef:e,trafficSource:ec.WV,visuallyCompleteProfilerOptions:P})}):f&&!t?.display_data?(0,et.jsx)(a.xu,{"data-test-id":"homefeed-ssr",children:(0,et.jsx)(W.iK,{authHomefeedComponentDidUpdate:A,feedItemProps:n&&n(h),feedKey:ec.xJ,pullToRefresh:s,resource:y,serverRender:!0,trafficSource:ec.WV,visuallyCompleteProfilerOptions:P})}):(0,et.jsx)(a.xu,{"data-test-id":"homefeed",children:(0,et.jsx)(W.iK,{authHomefeedComponentDidUpdate:A,feedItemProps:n&&n(h),feedKey:r,pullToRefresh:s,resource:y,trafficSource:ec.WV,visuallyCompleteProfilerOptions:P})})},eZ=(0,ef.Z)(()=>r.e(23690).then(r.bind(r,223690)),{ssr:!1}),eH=(0,ef.Z)(()=>r.e(75693).then(r.bind(r,645081)),{ssr:!1}),eL=(0,ef.Z)(()=>r.e(31819).then(r.bind(r,131819)),{ssr:!1}),eU=(0,ef.Z)(()=>r.e(94425).then(r.bind(r,994425)),{ssr:!1}),eF=(0,ef.Z)(()=>r.e(99302).then(r.bind(r,799302)),{ssr:!1}),ek=(0,ef.Z)(()=>r.e(58838).then(r.bind(r,58838)),{ssr:!1});class eM extends n.PureComponent{constructor(...e){super(...e),eg(this,"state",{...(0,ei.H)(),currentTabIndex:"number"==typeof this.props.selectedTabIndex?this.props.selectedTabIndex:q.ef,showUnlinkTokenExpiredModal:!1,showDeleteAccountSurveyModal:!1,showYipModal:!1,shouldDismissCoreActionsHeader:!1}),eg(this,"claimReferral",e=>{(0,F.My)("mweb.partner.referral.claim.attempt");let t=u.H.getData();s.Z.create("ReferralClaimResource",{referralCode:t,receiverUserId:e}).callUpdate().then(()=>{u.H.setSenderOfferClaimed(),(0,F.My)("mweb.partner.referral.claim.success"),this.props.showToast(({hideToast:e})=>(0,et.jsx)(E.ZP,{duration:5e3,href:"/business/install_app",onHide:e,text:this.props.i18n.bt("Solicitaste una oferta. Lanza anuncios para comenzar.", "You’ve claimed an offer. Launch ads to get started.", "business_hub.offer_toast.success", undefined, true)}))}).catch(()=>{u.H.resetStatus(),(0,F.My)("mweb.partner.referral.claim.error"),this.props.showToast(({hideToast:e})=>(0,et.jsx)(E.ZP,{duration:5e3,onHide:e,text:this.props.i18n.bt("Lo sentimos, no cumples los requisitos para solicitar esta oferta", "Sorry, you don’t qualify for this offer", "business_hub.offer_toast.error", undefined, true),type:"error"}))})}),eg(this,"renderOptInInterestPicker",()=>{let{everythingFeedExperience:e,isLimitedLogin:t}=this.props,{extraPlpImages:r,extraBlpImages:n}=this.state,o=!t&&e&&504192===e.experience_id,i=o&&e&&e.display_data&&e.display_data.full_screen_modal;return e&&o?(0,et.jsx)(c.Z,{name:"SafeSuspense_HomePage_OptInInterestPicker",children:i?(0,et.jsx)(ek,{experience:e,extraImageInfo:r.length>0?r:n,viewParameter:92,viewType:1}):(0,et.jsx)(eU,{experience:e,viewParameter:92,viewType:1})}):null})}static getDerivedStateFromProps(e){let{selectedTabIndex:t}=e;return"number"==typeof t?{currentTabIndex:t}:null}componentDidMount(){let{currentUserId:e,dispatchViewedSharedPins:t,isPartner:r,location:n,pwtStaticContext:o,i18n:i,isAuthenticated:a,showToast:s,history:l}=this.props,{sharedPinData:c}=this.state;(0,ea.E)(!1),(0,d.Z)(),c&&Object.keys(c).length>0&&t(c),r&&e&&u.H.shouldClaimReferral()&&this.claimReferral(e),a&&(0,P.S$)({appLoadName:"home_feed_pinteractive",clientNavName:"home_feed_render"},o),n.state?.unlinkTokenInvalid&&this.setState({showUnlinkTokenExpiredModal:!0}),n.state?.isCloseAccountReasonOpen&&this.setState({showDeleteAccountSurveyModal:!0}),n.state?.showError&&s(({hideToast:e})=>(0,et.jsx)(E.ZP,{duration:5e3,onHide:e,text:i.bt("No encontramos esa idea. Intenta buscar una parecida.", "We can’t find that idea! Try searching for one just like it.", " - ", undefined, true),type:"error"})),(0,M.mB)(n.search).show_yip_modal&&(l.replace("/"),this.setState({showYipModal:!0}))}render(){let{checkExperiment:e,currentUserId:t,currentUsername:r,everythingFeedExperience:o,history:i,homefeedResourceRef:s,i18n:l,isAuthenticated:d,isEligibleForCoreActionsHeader:u,isPartner:b,location:E,moreIdeasStory:x,newUserWelcomeStoryExperience:S,webMobileHomeFeedTakoverExperience:I,selectedTabBoardId:T,useCaseTabs:P,tabBoards:A}=this.props,{currentTabIndex:O,showUnlinkTokenExpiredModal:R,showDeleteAccountSurveyModal:C,showYipModal:j,shouldDismissCoreActionsHeader:D}=this.state,H=(0,M.mB)(E.search),L=H&&H.boardId||T,F=P?.find(e=>e.id===L)?.display_name||"";if(o)switch(o.experience_id){case 40002:case 10105:return(0,et.jsx)(c.Z,{name:"SafeSuspense_HomePage_Nux",children:(0,et.jsx)(N.Z,{fallback:(0,et.jsx)(Z.Z,{accessibilityLabel:this.props.i18n.bt("Cargando educación de nuevo usuario", "Loading new user education", "Loading spinner", undefined, true)}),children:b?(0,et.jsx)(eL,{experience:o}):(0,et.jsx)(eH,{experience:o})})});case 500681:return(0,et.jsx)(c.Z,{name:"SafeSuspense_HomePage_ContactUpdate",children:(0,et.jsx)(eZ,{fallback:(0,et.jsx)(Z.Z,{accessibilityLabel:this.props.i18n.bt("Cargando experiencia", "Loading experience", "loading experience spinner", undefined, true)})})})}let k="enabled"===e("ap_nux_revamp_mweb_welcome_experience",{dangerouslySkipActivation:!0}).group||"enabled_no_tooltip"===e("ap_nux_revamp_mweb_welcome_experience",{dangerouslySkipActivation:!0}).group,z=d&&e("mweb_hf_core_actions_header").anyEnabled&&u;return(0,et.jsx)(V.Z,{viewParameter:92,viewType:1,children:(0,et.jsx)(U.Z,{view:1,viewParameter:92,children:(0,et.jsxs)(w.default,{dataLayoutShiftBoundaryId:"AuthHomePageContainer",hasFixedHeader:!0,children:[(0,et.jsx)(Y.Z,{text:l.bt("Inicio", "Home", "HomePage.HiddenAccessibilityHeader", undefined, true)}),o&&k&&(0,et.jsx)(p.Z,{eligibleIds:[506938],experience:o,children:(0,et.jsx)(ed,{})}),(!!A?.length||!!P?.length)&&(0,et.jsx)(v.default,{hideOnScroll:d,noPadding:!0,overrideTop:0,children:(0,et.jsx)(a.xu,{paddingY:1,children:(0,et.jsx)(eo,{currentTabIndex:O,tabBoards:A||[],useCaseTabs:P||[]})})}),x&&(0,et.jsx)(a.xu,{marginEnd:-4,marginStart:-4,paddingY:2,children:(0,et.jsx)(eh.Z,{storyId:x.id||"",children:e=>(0,et.jsx)(eb,{slotIndex:0,storyData:e,viewParameter:92,viewType:1},x.id)})}),O!==q.ef&&L&&(O<=(A?.length??0)?(0,et.jsx)(eE,{boardId:L}):(0,et.jsx)(ex,{index:O,useCaseId:L,useCaseName:F}))||(0,et.jsxs)(n.Fragment,{children:[(0,et.jsx)(m.Z,{experience:o}),(0,et.jsx)(h.Z,{placementId:40001}),(0,et.jsx)(f.Z,{experience:o}),(0,et.jsx)(_.Z,{placementId:o?.placement_id}),(0,et.jsx)(y.Z,{placementId:1000544}),(0,et.jsx)(g.Z,{placementId:1000558}),(0,et.jsx)(p.Z,{eligibleIds:[500726,500866,500735,500833,501182,501275,501385,501358,501908,501909,503291],experience:o,children:(0,et.jsx)(N.Z,{children:(0,et.jsx)(eI,{experience:o})})}),o&&(0,et.jsx)(p.Z,{eligibleIds:[505326],experience:o,children:({complete:e,dismiss:t})=>(0,et.jsx)(n.Suspense,{children:(0,et.jsx)(eA,{complete:e,dismiss:t})})}),o&&(0,et.jsx)(p.Z,{eligibleIds:[505801],experience:o,children:({complete:e})=>(0,et.jsx)(n.Suspense,{children:(0,et.jsx)(eP,{complete:e})})}),S?.display_data?.story&&S.display_data.showUpdatedLandingPageStory&&(0,et.jsx)(eS,{isMoreIdeasTabsVisible:!!A?.length,newUserWelcomeStoryExperience:S}),(0,et.jsxs)(a.xu,{marginTop:A?.length||x?0:2,children:[!D&&z&&(0,et.jsx)(ey,{onDismiss:()=>{this.setState({shouldDismissCoreActionsHeader:!0})},username:r||""}),(0,et.jsx)(eN,{homefeedResourceRef:s,webMobileHomeFeedTakoverExperience:I})]})]}),R&&(0,et.jsx)(N.Z,{children:(0,et.jsx)(a.xu,{"data-test-id":"unlink-expired-token",children:(0,et.jsx)(eT,{onDismiss:()=>{i.replace("/"),this.setState({showUnlinkTokenExpiredModal:!1})}})})}),C&&(0,et.jsx)(N.Z,{children:(0,et.jsx)(ev,{isPartner:b,onDismiss:()=>{i.replace("/"),this.setState({showDeleteAccountSurveyModal:!1})},userId:t,username:r})}),j&&(0,et.jsx)(c.Z,{name:"YearInPreviewConfirmPublishModal",children:(0,et.jsx)(eF,{onModalDismiss:()=>{this.setState({showYipModal:!1})}})}),this.renderOptInInterestPicker()]})})})}}let ez=[];function eB({homefeedResourceRef:e,moreIdeasTabsBoardsResourceRef:t}){let r;let n=(0,x.ZP)(),a=(0,o.I0)(),s=(0,B.Z)(),{showToast:d}=(0,k.F9)(),u=(0,O.Z)(),c=(0,i.k6)(),p=(0,i.TH)(),_=(0,eu.Z)(),{checkExperiment:h}=(0,T.F)(),m="true"===(0,L.qn)("completedMiniRenux"),f=(0,b._)({id:40001,extraContext:m?{completed_mini_renux:m}:void 0,shouldUsePlacedExperience:!1}),g=(0,b._)({id:1000115}),y=(0,b._)({id:1000411}),E=(0,o.v9)(({feeds:e})=>e.homefeed),v=(0,o.v9)(({homefeedTabUI:e})=>e.activeTabBoardId),w=(0,o.v9)(({homefeedTabUI:e})=>e.activeTabIndex),{isAuth:P,isLimitedLogin:R}=s,j=s.isAuth?s.id:void 0,Z=s.isAuth?s.username:void 0,U=!!s.isAuth&&s.isPartner,F=(0,z.HG)(),M=Array.isArray(E)?E:[],V=!F&&M[0]&&"story"===M[0].type?M[0]:null,G=(0,o.v9)(({stories:e})=>V?e[V.id]:null),W=G&&G.story_type&&G.story_type.startsWith("boards_more_ideas_feed_upsell")?G:null,{data:Y}=(0,D.Z)(h("hfp_nav_tabs_unity_mweb").anyEnabled||_?null:{name:"MoreIdeasTabsBoardsResource",options:{redux_normalize_feed:!0}}),{data:q}=(0,C.Z)(t);r=h("hfp_nav_tabs_unity_mweb").anyEnabled?M.find(({type:e})=>"home_feed_tabs"===e)?.tabs:_?q:Y;let K=H.ZP.getItem(l.gM);P&&null!=K&&s.createdAt&&!(0,S.Z)(s.createdAt)&&H.ZP.removeItem(l.gM);let $=!1;null!==K&&($="enabled"===h("ap_bmi_custom_activation_nux_revamp_mweb_v2").group);let J=$&&K?Array.from(new Map(JSON.parse(K)).keys()):null,{data:X}=(0,D.Z)($&&J?{name:"ApiResource",options:{url:"/v3/usecases/recommendation/",data:{seed_use_cases:J,fields:["nuxusecase.id","nuxusecase.display_name"]}}}:null),{data:Q}=(0,D.Z)(P&&h("mweb_hf_core_actions_header",{dangerouslySkipActivation:!0}).anyEnabled?{name:"UserResource",options:{user_id:s.id,field_set_key:"core_actions_header"}}:null),ee=(0,z.ml)(),er=(0,I.jr)(s);return(0,et.jsxs)(A.Z,{measureGridVisuallyComplete:!0,surface:"homefeed",children:[er&&(0,et.jsx)(N.Z,{children:(0,et.jsx)(ew,{})}),(0,et.jsx)(eM,{checkExperiment:h,currentUserId:j,currentUsername:Z,dispatchViewedSharedPins:e=>a((0,ep.dz)(e)),everythingFeedExperience:f,history:c,homefeedResourceRef:e,i18n:n,isAuthenticated:P,isEligibleForCoreActionsHeader:Q?.is_eligible_for_core_actions_header,isLimitedLogin:R,isMobile:ee,isPartner:U,location:p,moreIdeasStory:W,newUserWelcomeStoryExperience:y,pwtStaticContext:u,selectedTabBoardId:v,selectedTabIndex:w,showToast:d,tabBoards:r??ez,useCaseTabs:X??[],webMobileHomeFeedTakoverExperience:g})]})}function eV(){let e=(0,eu.Z)(),t=(0,o.v9)(({session:e})=>e.firstHomeFeedRequestAfterNux),{checkExperiment:r}=(0,T.F)(),i={...ec.HH,...t?{in_nux:t}:{...eD},in_local_navigation:r("hfp_nav_tabs_unity_mweb").anyEnabled},a=(0,j.Z)(e?{name:ec.om,options:i}:null),s=(0,j.Z)(!r("hfp_nav_tabs_unity_mweb").anyEnabled&&e?{name:"MoreIdeasTabsBoardsResource",options:{redux_normalize_feed:!0}}:null);return e?(0,et.jsx)(n.Suspense,{children:(0,et.jsx)(eB,{homefeedResourceRef:a,moreIdeasTabsBoardsResourceRef:s})}):(0,et.jsx)(eB,{homefeedResourceRef:a,moreIdeasTabsBoardsResourceRef:s})}},26353:(e,t,r)=>{r.d(t,{EP:()=>l,HH:()=>s,WV:()=>i,om:()=>a,xJ:()=>o});var n=r(288240);let o="homefeed",i="feed_home",a="UserHomefeedResource",s={field_set_key:"mobile_grid_item",prepend:!1},l=(0,n.Z)(s)},265192:(e,t,r)=>{r.d(t,{Z:()=>o});var n=r(227258);function o(e,t){return r=>r((0,n.U)("BoardSectionResource",{options:{field_set_key:t||"board_page",section_id:e}}))}},969300:(e,t,r)=>{r.d(t,{r:()=>n});let n=(e,t)=>({type:"SET_ACTIVE_HOMEFEED_TAB",payload:{boardId:e,index:t}})},170568:(e,t,r)=>{r.d(t,{Cp:()=>d,FK:()=>l,H5:()=>E,MI:()=>m,O0:()=>h,QZ:()=>s,W:()=>y,WF:()=>c,Wz:()=>x,a5:()=>p,dz:()=>g,e0:()=>_,e2:()=>a,iW:()=>b,n1:()=>i,rm:()=>u,xu:()=>f});var n=r(741983),o=r(389638);let i=()=>({type:"DISMISS_UNAUTH_SAVE"}),a=()=>({type:"COMPLETE_UNAUTH_SAVE_ACTION"}),s=e=>({type:"SET_UNAUTH_SAVE_PIN_ID",payload:{unauthSavePinId:e}}),l=()=>({type:"HIDE_NAV_FOOTER"}),d=()=>({type:"SHOW_NAV_FOOTER"}),u=e=>({type:"SET_LOGIN_SIGNUP_FROM",payload:{from:e}}),c=()=>({type:"SHOW_REPIN_ANIMATION"}),p=()=>({type:"HIDE_REPIN_ANIMATION"}),_=e=>({type:"SET_NUM_SIGNUP_STEPS",payload:{steps:e}}),h=()=>({type:"SET_OWN_PROFILE_PINS_REFRESH"}),m=e=>({type:"SHOW_BIZ_NUX_HOMEFEED_LOADER",payload:e}),f=e=>({type:"SET_VIEWED_IMAGE",payload:{viewedImageSignature:e}}),g=e=>({type:"SET_VIEWED_SHARED_PINS",payload:{pins:e}}),y=()=>({type:"DISMISS_UNAUTH_APP_UPSELL"}),b=e=>e?{type:"LOGGED_OUT_USER_INFO_FOUND",payload:e}:{type:"LOGGED_OUT_USER_INFO_NOT_FOUND"},E=e=>({type:"UPDATE_USER_FIRST_HOME_FEED_REQUEST_AFTER_NUX",payload:e}),x=(e,t)=>({type:"SET_LANDING_PAGE_TYPE",payload:e?(0,n.bo)(e)?"today":(0,n.dr)(e)?"ideas":t&&(0,n.dZ)(e,t)?"own_section":t&&(0,n.J)(e,t)?"own_board":(0,n.OJ)(e)?"section":(0,n.am)(e)?"board":(0,n.L6)(e)?"closeup":(0,n.C$)(e)?"home":(0,o.Z)(e)?"profile":(0,n.En)(e)?"search":(0,n.$V)(e)?"topic":"":""})},70982:(e,t,r)=>{r.d(t,{KF:()=>u,ZN:()=>s,fv:()=>d,kE:()=>p,yA:()=>l});var n=r(216167),o=r(372085),i=r(386129);function a(e,t,r,o){return n.Z.create("UserFollowResource",{user_id:e,invite_code:o||void 0,aux_data:t?{pin_id:t}:void 0,client_tracking_params:r})}function s(e,t=null,r,n){return o=>{a(e,t,r,n).callCreate().catch(()=>o((0,i.P_)(e,!1))),o((0,i.P_)(e,!0))}}function l(e,t=null,r,n){return async o=>{o((0,i.P_)(e,!0)),await a(e,t,r,n).callCreate().catch(t=>{throw o((0,i.P_)(e,!1)),t})}}function d(e,t=null,r){return n=>{a(e,t,r).callDelete().catch(()=>n((0,i.P_)(e,!0))),n((0,i.P_)(e,!1))}}function u(e,t=null,r){return async n=>{n((0,i.P_)(e,!1)),await a(e,t,r).callDelete().catch(t=>{throw n((0,i.P_)(e,!0)),t})}}let c=(e,t)=>({type:"USER_BULK_FOLLOW",payload:{ids:e,value:t}}),p=e=>t=>{e.length>0&&((0,o.Z)({url:"/v3/users/follow/",method:"PUT",data:{followee_ids:e.join(",")}}).catch(()=>t(c(e,!1))),t(c(e,!0)))}},386129:(e,t,r)=>{r.d(t,{Ge:()=>d,JS:()=>a,OF:()=>E,P_:()=>s,Q_:()=>p,b8:()=>_,eR:()=>b,h2:()=>u,h6:()=>c});var n=r(216167),o=r(372085),i=r(107905);function a(e){return{type:"UPDATE_USER_PIN_COUNT",payload:e}}let s=(e,t)=>({type:"USER_FOLLOW",payload:{id:e,value:t}}),l=(e,t)=>({type:"USER_BLOCK",payload:{id:e,value:t}}),d=({id:e,orbacSubjectId:t,blockSource:r,blockContext:o,logContextEvent:i})=>async a=>{a(l(e,!0));let s=await n.Z.create("UserBlockResource",{blocked_user_id:e,orbac_subject_id:t,block_source:r,block_context:o}).callCreate().catch(()=>a(l(e,!1)));return i({event_type:54,object_id_str:e}),s},u=(e,t)=>async r=>{r(l(e,!1));let o=await n.Z.create("UserBlockResource",{blocked_user_id:e}).callDelete().catch(()=>r(l(e,!0)));return t({event_type:55,object_id_str:e}),o};function c(e){return{type:"UPDATE_USER_SCHEDULED_PIN_COUNT",payload:e}}let p=(e,t)=>()=>n.Z.create("UserStateResource",{state:e,value:t}).callCreate(),_=(e,t,r)=>(n,a)=>{(0,o.Z)({url:"/v3/users/me/",method:"POST"}).then(()=>{r({event_type:48,object_id_str:a().session.userId}),e(),(0,i.Z)()},t)},h=e=>e>=200&&e<400,m=(e,t="150x150")=>e&&`https://i.pinimg.com/${t}/${e.substring(0,2)}/${e.substring(2,4)}/${e.substring(4,6)}/${e}.jpg`||"",f=async(e,t,r)=>{let o=await n.Z.create("VIPResource",{upload_ids:[e]}).callGet();if(o.resource_response.data[e]){let{status:n,signature:i}=o.resource_response.data[e];"processing"===n||"registered"===n?setTimeout(async()=>{f(e,t,r)},5e3):"succeeded"===n?t(m(i)):r()}else r()},g=(e,t,r,o,i)=>(new FormData().append("img",e),n.Z.create("VIPResource",{type:t}).callCreate().then(t=>{if(t.resource_response.data){let{upload_id:n,upload_url:a,upload_parameters:s}=t.resource_response.data,l=new XMLHttpRequest;l.open("POST",a,!0),l.onload=()=>{h(l.status)?(r(100),f(n,o,i)):i()},l.upload.onprogress=e=>{r(Math.round(100*e.loaded/e.total))};let d=new FormData;for(let e in s)d.append(e,s[e]);d.append("file",e),l.send(d)}},()=>{i()})),y=e=>new Promise((t,r)=>{g(e,"pinimage",()=>{},e=>{t(e)},e=>{r(e)})}),b=e=>new Promise((t,r)=>{"string"==typeof e?e.startsWith("data")&&y(function(e,t=512){let r=e.split(";"),n=r[0].split(":")[1],o=atob(r[1].split(",")[1]),i=[];for(let e=0;e<o.length;e+=t){let r=o.slice(e,e+t),n=Array(r.length);for(let e=0;e<r.length;e+=1)n[e]=r.charCodeAt(e);let a=new Uint8Array(n);i.push(a)}return new Blob(i,{type:n})}(e)).then(e=>t(e)):r("Invalid Image")}),E=e=>(0,o.Z)({url:"/v3/register/exists/",data:{email:e}})},937310:(e,t,r)=>{r.d(t,{Z:()=>n});let n={AGGREGATED_COMMENTS:"aggregatedComments",AGGREGATED_COMMENT_REPLIES:"aggregated-comment-replies",BOARDFEED:"boardfeed",BOARDLESS_PINS:"boardless-pins",BOARD_SECTIONS:"board-sections",BOARD_SECTION_PINS:"board-section-pins",STORY_PINS_FEED:"story-pins-feed",PROFILE_PINS_FEED:"profile-pins-feed",PROFILE_BOARDS:"profileBoards",SEARCH_PINS:"searchPins",STORY_PIN_DATA:"storyPinData",TODAY_ARTICLE_INTEREST_FEED:"todayArticleInterestFeed",TODAY_TAB:"todayTabFeed",UNIFIED_COMMENTS:"unified-comments",USE_CASE_TAB:"useCaseFeed",TRIED_IT_FEED:"trieditfeed"}},137842:(e,t,r)=>{r.d(t,{Z:()=>o});var n=r(545007);function o({children:e,storyId:t}){let r=(0,n.v9)(({stories:e})=>e[t]);return r&&e(r)}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/63563.es_MX-4d4b8bebf05aa4a6.mjs.map